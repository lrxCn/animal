"use strict";(self["webpackChunksmart_agriculture"]=self["webpackChunksmart_agriculture"]||[]).push([[856],{1870:function(t,e,i){i.r(e),i.d(e,{default:function(){return oe}});var a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("AdaptOverview",{scopedSlots:t._u([{key:"slot-left-0",fn:function(){return[e("div",{staticClass:"overview-cylinder"},t._l(t.infoList,(function({value:i,key:a,unit:s}){return e("div",{key:a,staticClass:"overview-cylinder-item"},[e("span",{staticClass:"overview-cylinder-item-1"},[t._v(t._s(a))]),e("span",{staticClass:"overview-cylinder-item-2"},[t._v(t._s(i))]),e("span",{staticClass:"overview-cylinder-item-3"},[t._v("("+t._s(s)+")")]),e("div",{staticClass:"overview-cylinder-item-light"})])})),0)]},proxy:!0},{key:"slot-map",fn:function(){return[e("OlMap")]},proxy:!0},{key:"slot-left-1",fn:function(){return[e("MainArea",{attrs:{optionPie:t.soilFertilizer,optionBar:t.soilQuality,croplist:t.mainCrops}})]},proxy:!0},{key:"slot-left-2-1",fn:function(){return[e("SoilQuality",{attrs:{option:t.soilQuality}})]},proxy:!0},{key:"slot-left-2-2",fn:function(){return[e("SoilFertilizer",{attrs:{option:t.soilFertilizer}})]},proxy:!0},{key:"slot-left-3",fn:function(){return[e("AgricultureSource",{attrs:{info:t.agricultureDevice}})]},proxy:!0},{key:"slot-year",fn:function(){return[e("YearSelect",{attrs:{year:t.selectYear},on:{change:t.handleSelectYearBefore}})]},proxy:!0},{key:"slot-area",fn:function(){return[e("AreaSelect",{attrs:{info:t.province,area:t.overviewSelectArea},on:{change:t.handleSelectAreaBefore}})]},proxy:!0},{key:"slot-core-1",fn:function(){return[e("CircleBtn",{attrs:{text1:"企业",text2:"分布"},nativeOn:{click:function(e){return t.handleCompanyClick.apply(null,arguments)}}})]},proxy:!0},{key:"slot-top-0",fn:function(){return[e("AgricultrueSubsidy",{attrs:{list:t.deviceAmount,infoList:t.agricultureSubsidy}})]},proxy:!0},{key:"slot-top-1",fn:function(){return[e("PriceIndex",{attrs:{option:t.priceIndex}})]},proxy:!0},{key:"slot-top-2",fn:function(){return[e("WaterList",{attrs:{wavelist:t.irrigationArea}})]},proxy:!0},{key:"slot-bottom-0",fn:function(){return[e("AgricultureGDP",{key:t.agricultureGdp?.series?.length,attrs:{option:t.agricultureGdp}})]},proxy:!0},{key:"slot-bottom-1",fn:function(){return[e("MainOutput",{key:t.cropOutput?.series?.length,attrs:{option:t.cropOutput}})]},proxy:!0},{key:"slot-bottom-2",fn:function(){return[e("DealReport",{attrs:{list:t.prescription}})]},proxy:!0}])})},s=[],r=i(9754),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-area"},[e("div",{staticClass:"main-area-title"},[e("ModuleTitle",{attrs:{title:"主要牲畜存栏数量（头）"}})],1),e("div",{staticClass:"main-area-top"},t._l(t.croplist,(function({name:i,icon:a,amount:s},r){return e("div",{key:`${i}-${r}`,staticClass:"main-area-top-item"},[e("div",{staticClass:"main-area-top-item-first"},[e("div",{class:r%2===0?"red":"green"},[t._v(t._s(i))])]),e("div",{staticClass:"main-area-top-item-second",style:`grid-template-columns: repeat(${t.maxIconLen}, 1fr)`},[t._l(Math.ceil(s/t.cropMax*t.maxIconLen),(function(t){return e("safe-img",{key:`1_${t}`,attrs:{src:`../cropIcon/${a}/1.png`,defaultSrc:"../cropIcon/strawberry/1.png",alt:""}})})),t._l(t.maxIconLen-Math.ceil(s/t.cropMax*t.maxIconLen),(function(t){return e("safe-img",{key:`0_${t}`,attrs:{src:`../cropIcon/${a}/0.png`,defaultSrc:"../cropIcon/strawberry/0.png",alt:""}})}))],2),e("div",{staticClass:"main-area-top-item-third"},[t._v(t._s(s))])])})),0)])},l=[],o=i(1559),c=i(6930),u={name:"MainArea",props:{optionPie:Object,optionBar:Object,croplist:Array},computed:{cropMax(){return Math.max(...this.croplist.map((({amount:t})=>t)))||c.gS}},mounted(){},data:()=>({maxIconLen:c.gS}),components:{ModuleTitle:o.Z}},p=u,d=i(6432),v=(0,d.Z)(p,n,l,!1,null,"00e4794d",null),m=v.exports,f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"agriculture-source"},[e("div",{staticClass:"agriculture-source-title"},[e("ModuleTitle",{attrs:{title:"饲料使用量"}})],1),e("div",{staticClass:"agriculture-source-select"},t._l(t.selectList,(function({key:i,value:a},s){return e("div",{key:i,class:s===t.active?"agriculture-source-select-active":"agriculture-source-select-noactive",on:{click:function(e){return t.handleActive(s)}}},[t._v(" "+t._s(a)+" ")])})),0),e("div",{staticClass:"agriculture-source-chart"},[e("echarts-wrap",{attrs:{option:t.info?.[t.selectList[t.active]?.key]}})],1)])},h=[],_={name:"AgricultureSource",props:{info:Object},components:{ModuleTitle:o.Z},computed:{selectList(){return Object.keys(this.info).map((t=>({key:t,value:this.info[t].name})))}},methods:{handleActive(t){this.active=t}},data:()=>({active:0})},C=_,y=(0,d.Z)(C,f,h,!1,null,"d4904dc6",null),g=y.exports,x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"agdp"},[e("ModuleTitle",{attrs:{title:"牧业产值（万元）"}}),e("echarts-wrap",{attrs:{option:t.option}})],1)},k=[],b={name:"AgricultureGDP",props:{option:Object},components:{ModuleTitle:o.Z}},w=b,M=(0,d.Z)(w,x,k,!1,null,"0573d255",null),S=M.exports,A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mainoutput"},[e("ModuleTitle",{attrs:{title:"乳制品产量（吨）"}}),e("echarts-wrap",{attrs:{option:t.option}})],1)},L=[],$={name:"MainOutput",props:{option:Object},components:{ModuleTitle:o.Z}},O=$,Z=(0,d.Z)(O,A,L,!1,null,"57b25cf5",null),T=Z.exports,I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dealreport"},[e("div",{staticClass:"dealreport-title"},[e("ModuleTitle",{attrs:{title:"处方报告/条"}})],1),e("div",{staticClass:"dealreport-main"},[t._m(0),t._l(t.list,(function({name:i,value:a},s){return e("div",{key:s,class:`dealreport-main-item dealreport-main-item-${s}`},[e("div",[t._v(t._s(i))]),e("div",[t._v(t._s(a)),e("span",{staticClass:"dealreport-mian-item-unit"},[t._v("条")])])])}))],2)])},Y=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"dealreport-main-head"},[e("div",{staticClass:"dealreport-main-head-wrap"},[e("img",{attrs:{src:i(8257),alt:""}})])])}],P={name:"DealReport",props:{list:Array},data:()=>({options:{}}),mounted(){},components:{ModuleTitle:o.Z}},B=P,D=(0,d.Z)(B,I,Y,!1,null,"f486dd04",null),j=D.exports,N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"price-index"},[e("ModuleTitle",{attrs:{title:"主要生产资料价格指数"}}),e("echarts-wrap",{attrs:{option:t.option}})],1)},W=[],z={name:"PriceIndex",components:{ModuleTitle:o.Z},props:{option:Object}},Q=z,F=(0,d.Z)(Q,N,W,!1,null,"16e3992c",null),G=F.exports,R=function(){var t=this,e=t._self._c;return e("div",{staticClass:"con"},[e("ModuleTitle",{attrs:{title:"牧业补贴收入（万元）"}}),e("div",{staticClass:"con-lines"},t._l(t.infoList,(function({key:i,value:a},s){return e("ColorLine",{key:i,attrs:{title:`${i}`,value:a,max:t.colorLineMax,color:t.colors[s]}})})),1),e("div",{staticClass:"con-list"},t._l(t.list,(function({name:i,amount:a,unit:s,icon:r},n){return e("div",{key:i,class:t.active==n?"con-list-item con-list-item-active":"con-list-item",on:{click:function(e){return t.handleActive(n)}}},[e("div",{staticClass:"con-list-item-title"},[t._v(t._s(i))]),e("div",{staticClass:"con-list-item-info"},[e("div",{staticClass:"con-list-item-info-left"},[e("span",[t._v(t._s(a))]),e("span",[t._v(t._s(s))])]),e("img",{attrs:{src:`/mechineIcon/${r}`,alt:"",srcset:""}})])])})),0),e("div",{staticClass:"con-result"},[t.list[t.active]?.bigIcon?e("img",{attrs:{src:`/mechineIcon/${t.list[t.active]?.bigIcon}`,alt:""}}):t._e(),e("div",{staticClass:"con-result-infoList"},t._l(t.list[t.active]?.infoList,(function({key:i,amount:a}){return e("CapSule",{key:i,attrs:{max:t.max,amount:a,title:i}})})),1)])],1)},V=[],q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"con"},[e("span",[t._v(t._s(t.title))]),e("div",{staticClass:"con-list"},[t._l(t.gradientList,(function([i,a],s){return e("div",{key:s,staticClass:"con-list-item",style:t.lightNum>s?`background:linear-gradient(90deg, ${i}, ${a});`:`background: transparent; border: 1px solid; border: 2px solid; border-image: linear-gradient(to right, ${i}, ${a}) 1;`})})),e("div",{staticClass:"con-list-amount"},[t._v(t._s(t.amount))])],2)])},E=[],H={name:"CapSule",data:()=>({gradientList:[["#77d8f0","#79d9f2"],["#79d9f2","#7cdaf3"],["#7cdaf3","#7cdaf3"],["#7cdaf3","#5ed1e2"],["#5ed1e2","#4fccd9"],["#4fccd9","#3fccd0"],["#3fccd0","#31c3c8"],["#3fccd0","#25c0c1"],["#3fccd0","#1dbdbc"]]}),computed:{lightNum(){return(this.amount/this.max*9).toFixed(0)}},props:{max:Number,title:String,amount:Number}},U=H,J=(0,d.Z)(U,q,E,!1,null,"11f5a040",null),K=J.exports,X=function(){var t=this,e=t._self._c;return e("div",{staticClass:"colorLine"},[e("span",[t._v(t._s(t.title))]),e("div",{staticClass:"colorLine-content"},[e("div",{staticClass:"colorLine-content-bg"},[e("div",{staticClass:"colorLine-content-line",style:`width:${t.value/t.max*100}%;background: radial-gradient(circle at 100% 0, ${t.color}ff, ${t.color}22)`},[e("div",{staticClass:"colorLine-content-line-dot",style:`background:${t.color}`})])])]),e("span",[t._v(t._s(t.value))])])},tt=[],et={name:"ColorLine",data:()=>({}),props:{title:String,value:Number,max:Number,color:String}},it=et,at=(0,d.Z)(it,X,tt,!1,null,"cbe688b6",null),st=at.exports,rt={components:{ModuleTitle:o.Z,CapSule:K,ColorLine:st},props:{list:Array,infoList:Array},name:"AgricultrueSubsidy",mounted(){},data(){return{active:0,colors:c.DM}},computed:{colorLineMax(){return Math.max(...this.infoList.map((({value:t})=>t)))*c.q6},max(){const t=this.list[this.active]?.infoList;return Math.max(...t.map((({amount:t})=>t)))}},methods:{handleActive(t){this.active=t}}},nt=rt,lt=(0,d.Z)(nt,R,V,!1,null,"085e17c0",null),ot=lt.exports,ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"circle-btn"},[e("div",{staticClass:"circle-btn-wrap"},[e("div",{class:t.active?"circle-btn-wrap-trans circle-btn-wrap-trans-active":"circle-btn-wrap-trans"},[e("span",[t._v(t._s(t.text1))]),e("span",[t._v(t._s(t.text2))])])])])},ut=[],pt={name:"CircleBtn",props:{text1:String,text2:String,active:Boolean}},dt=pt,vt=(0,d.Z)(dt,ct,ut,!1,null,"1fd59445",null),mt=vt.exports,ft=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"smart"},[e("div",{staticClass:"smart-map"},[t._t("slot-map")],2),e("div",{staticClass:"smart-mask"}),e("div",{staticClass:"smart-left"},[e("div",{staticClass:"smart-inner"},[t._t("slot-left-0")],2),e("div",{staticClass:"smart-inner"},[t._t("slot-left-1")],2),e("div",[e("div",{staticClass:"smart-inner"},[t._t("slot-left-2-1")],2),e("div",{staticClass:"smart-inner"},[t._t("slot-left-2-2")],2)]),e("div",{staticClass:"smart-inner"},[t._t("slot-left-3")],2)]),e("div",{staticClass:"smart-right"},[e("div",{staticClass:"smart-inner"},[t._t("slot-top-0")],2),e("div",{staticClass:"smart-inner"},[t._t("slot-top-1")],2),e("div",{staticClass:"smart-inner"},[t._t("slot-top-2")],2)]),e("div",{staticClass:"smart-bottom"},[e("div",{staticClass:"smart-inner"},[t._t("slot-bottom-0")],2),e("div",{staticClass:"smart-inner"},[t._t("slot-bottom-1")],2),e("div",{staticClass:"smart-inner"},[t._t("slot-bottom-2")],2)]),e("div",{staticClass:"smart-year"}),e("div",{staticClass:"smart-area"}),e("div",{staticClass:"smart-core-1"},[t._t("slot-core-1")],2),e("div",{staticClass:"smart-core-2"},[t._t("slot-core-2")],2)])},ht=[],_t=r["default"].extend({name:"AdaptOverview"}),Ct=_t,yt=(0,d.Z)(Ct,ft,ht,!1,null,"8240f572",null),gt=yt.exports,xt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"year-select"},[e("el-date-picker",{attrs:{type:"year","picker-options":t.pickerOptions,"popper-class":"year-select-popper",placeholder:"选择年"},on:{change:t.handleChange},model:{value:t.innerYear,callback:function(e){t.innerYear=e},expression:"innerYear"}})],1)},kt=[],bt={name:"YearSelect",props:{year:Date},mounted(){this.innerYear=this.year},data:()=>({innerYear:new Date,pickerOptions:{disabledDate(t){return t.getTime()>Date.now()}}}),methods:{handleChange(t){this.$emit("change",t)}}},wt=bt,Mt=(0,d.Z)(wt,xt,kt,!1,null,null,null),St=Mt.exports,At=i(663),Lt=i(9786),$t=function(){var t=this,e=t._self._c;return e("div",{staticClass:"soil-quality"},[e("ModuleTitle",{attrs:{title:"产奶量对比"}}),e("echarts-wrap",{attrs:{option:t.option}})],1)},Ot=[],Zt={name:"SoilQuality",components:{ModuleTitle:o.Z},props:{option:Object}},Tt=Zt,It=(0,d.Z)(Tt,$t,Ot,!1,null,"6605c4ca",null),Yt=It.exports,Pt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"soil-fertilizer"},[e("ModuleTitle",{attrs:{title:"生长期分布"}}),e("echarts-wrap",{attrs:{option:t.option}})],1)},Bt=[],Dt={name:"SoilFertilizer",components:{ModuleTitle:o.Z},props:{option:Object}},jt=Dt,Nt=(0,d.Z)(jt,Pt,Bt,!1,null,"f8d63708",null),Wt=Nt.exports,zt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"water"},[e("ModuleTitle",{attrs:{title:"自产犊牛数量（头）"}}),e("div",{staticClass:"water-list"},t._l(t.wavelist,(function({amount:i,time:a,color:s}){return e("div",{key:a,staticClass:"water-list-item"},[e("div",{staticClass:"water-list-item-content"},[e("WaveWater",{attrs:{value:i,max:t.waveMax,color:s}})],1),e("div",{staticClass:"water-list-item-spans"},[e("span",[t._v(t._s(a))])])])})),0)],1)},Qt=[],Ft=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"wave-light",style:`border-color:${t.color.light}`},[e("div",{staticClass:"wave"},[e("div",{staticClass:"wave-progress"}),e("div",{staticClass:"wave-mask",style:`top:${t.value/t.max*100}%;background-image: linear-gradient(-180deg, ${t.color.start} 0%, ${t.color.end} 50%, ${t.color.start} 100%);`})]),e("span",{staticClass:"wave-value"},[t._v(t._s(t.value))])])},Gt=[],Rt=r["default"].extend({name:"waveWater",components:{},props:{value:Number,max:Number,color:Object},data:()=>({}),mounted(){}}),Vt=Rt,qt=(0,d.Z)(Vt,Ft,Gt,!1,null,"5a36e7ca",null),Et=qt.exports,Ht={props:{wavelist:Array},name:"WaterList",mounted(){},methods:{},data(){return{}},computed:{waveMax(){return Math.max(...this.wavelist.map((({amount:t})=>t)))*c.q6}},components:{ModuleTitle:o.Z,WaveWater:Et}},Ut=Ht,Jt=(0,d.Z)(Ut,zt,Qt,!1,null,"521c568c",null),Kt=Jt.exports,Xt=i(7007),te=i(8291),ee=i(5813),ie=i(2232);const{mapState:ae,mapActions:se}=(0,ee._p)("overview/");var re=r["default"].extend({name:"OverView",mounted(){const{[ie.id]:t,[ie.Qj]:e}=ie.WL.getItems([ie.id,ie.Qj]);t&&e?this.fetchLogin({username:t,password:e}).then((t=>{const{isLogin:e}=t?.user||{};e?this.getProvince().then((()=>this.fetchHome())).then((()=>{this.$bus.$emit(ie.r1.COMPANY_LAYOUT,!1)})):this.$router.replace({path:"/loginView"})})):this.$router.replace({path:"/loginView"})},computed:{...(0,ee.rn)(["province","overviewSelectArea"]),...ae(["selectYear","infoList","companyList","factoryList","mainCrops","soilQuality","soilFertilizer","agricultureDevice","irrigationArea","agricultureGdp","cropOutput","agricultureSubsidy","deviceAmount","priceIndex","prescription"])},data:()=>({}),methods:{...(0,ee.nv)({getProvince:te.oz,fetchLogin:te.yv,handleSelectArea:te.Eh}),mapBack(){this.$bus.$emit(ie.r1.MAP_REMOVE)},handleCompanyClick(){this.$bus.$emit(ie.r1.COMPANY_LAYOUT)},handleSelectYearBefore(...t){this.mapBack(),this.handleSelectYear(...t)},handleSelectAreaBefore(...t){this.mapBack(),this.handleSelectArea(...t),this.fetchHome(),setTimeout((()=>{this.handleCompanyClick()}),2e3)},...se({fetchHome:Xt.gT,handleSelectYear:Xt.fc})},components:{MainArea:m,AgricultureSource:g,AgricultureGDP:S,MainOutput:T,DealReport:j,PriceIndex:G,AgricultrueSubsidy:ot,CircleBtn:mt,AdaptOverview:gt,YearSelect:St,AreaSelect:At.Z,OlMap:Lt.Z,SoilQuality:Yt,SoilFertilizer:Wt,WaterList:Kt}}),ne=re,le=(0,d.Z)(ne,a,s,!1,null,"2ccf21a8",null),oe=le.exports},8257:function(t,e,i){t.exports=i.p+"img/head.d65e9dce.png"}}]);